from tweepy import Stream
from tweepy import OAuthHandler
from tweepy.streaming import StreamListener
import time
#consumer key, consumer secret, access token, access secret.
ckey=""
csecret=""
atoken=""
asecret=""
class listener(StreamListener):

    def on_status(self, data):
        try:
            print(data.text)
            print(data.user.name)
            #print(data.user.location)
            #print tweetf
            saveThis=str(time.ctime())+'::'+data.text+'/n'
            saveFile = open('twitDB3.txt','a')
            saveFile.write(saveThis)
            saveFile.write('\n')
            saveFile.close()
            return(True)
        except BaseException, e:
            print 'failed on data,',str(e)
            time.sleep(5)

    def on_error(self, status):
        print status

auth = OAuthHandler(ckey, csecret)
auth.set_access_token(atoken, asecret)

twitterStream = Stream(auth, listener())
twitterStream.filter(follow=["2592325530","2312333412","756869218574958593","773009781644677120","2366835468","734688391942524928","869908314292924416","841424245938769920","831847934534746114","1051053836","4020178512","582623043","4736263474","385562752","2266631022","707515829798182912","2338506822","4585412124","774791455680434176","2279318342","2275810436","4633094778","2478439963","3111739836","4826209539","119060937","3351041295","864347902029709314","1031080662","3064710598","2616679368","871853588540248064","3094365867","4711101020","2600194316","769457743807844352","2313671966","711030662728437760","759252279862104064","4131784210","2532881881","805450407078203392","2432540773","749620531062800384","854054464717639681","848728314437140480","736586614797783040","2550694741","763633071203635200","4053977488","608922372","723270672986845184","782353732562452480","2804855658","2337136418","775658150179508224","2235729541","813969918760812544","2863324024","810263154458578944","2349043879","2510084300","345738416","2917040642","3178753627","732169766450954240","2243862290","787962463195193344","2707205622","810926186067066880","2648931079","4252750574","840228005372874753","2591869950","1322660676","4904690978","3377478437","17577230","701591375809265664","3297860764","130876609","2571611466","2361179618","834557983778623493","3410375111","785214387007041536","750946654619074560","828668619986964480","2404876578","816646997356777472","2834302581","812121371199164416"])
